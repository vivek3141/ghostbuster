Computational Fluid Dynamics (CFD) is a technique used to solve fluid flow problems. Rather than using experimental methods, that are expensive and time consuming, CFD can be used effectively to predict the real life solution. CFD is carried out on digital computers that use algorithms to solve a set of indeterminate equations called the Navier-Stokes equations. These partial differential equations where derived in the early nineteenth century and are used to describe the processes of momentum, heat and mass transfer.
In the 1960's CFD was born, even though it was a very primitive form. It was not until the mid 1970's that the complex algorithms needed for CFD began to be understood. By the early 1980's CFD programs where available but they required a high amount of knowledge of fluid dynamics and time to set up the simulations. They also required very powerful computers. The CFD industry rapidly expanded in the 1990's and through to the 21 st century. CFD programs can now import complex models from CAD programs.
CFD is used by many different sectors of industry, these include automotive, building services, electronics, energy, medical and numerous others. It aids the design of comfortable and safe working environments, efficient equipment, high performance vehicles and maximum yields from chemical reactions.
CFD can use one of or a combination of three different methods for solving the partial differential equations. The three methods are;
FDM is the simplest of the three methods. It is based on a grid of nodes dependent on time and distance. It uses the Taylor series to predict the condition at a node based on the adjacent nodes one time-step behind it.
FEM is based on the same principles as FDM but instead of a uniform grid being used it uses a non-regular grid. This gives a higher accuracy as complex boundary conditions can be modelled.
FVM is a combination of both FDM and FEM. It simulates a small volume at each node then uses divergence theorem to convert them to a surface integral. It is able to replicate the complex boundary conditions while applying the finite difference technique to calculate values at discrete places on the mesh.
The whole process of CFX follows five main steps;
When revisiting a partially or fully completed project you are confronted with the project page. This shows all the 'workable' files associated with the project. If you want to redo part of the project, for example change the flow conditions, you need to know which file to start from. Below is a list of the file extensions and what they mean.
.wbdb- Workbench database file, this is the project file. It links all the files that are associated with project.
.agdb- this is the design modeller geometry file. It contains the shape, dimensions and constrains of the model.
.gtm- this is the CFX-Pre mesh file. It contains the information about the mesh.
.cmbd- this is also a CFX-Mesh file.
.cfx- this is the CFX-Pre case file, it contains information about the surface and volume mesh, the inflation and other details.
.def- CFX-Solver definition file. It defines the conditions for the simulation.
.res- CFX-Solver results file. Once the simulation is complete a file is written that contains all the results.
.cst- CFX-Post state file. This contains all the analysis tools used, for example streamlines.
The first step of this tutorial is to create the geometry of the static mixer in design modeller. Once design modeller opens it asks for the desired length unit to be used throughout the project, metre is chosen here. Making sure that the correct plane is selected (ZX plane) a new sketch is made with the settings, show 2D grid and snap to grid. This enables sketching to be simple as only specific points on the grid can be used. Using the polyline function a basic shape is sketch then revolved 360 around the Z-axis to give a 3D body. Now the two inlets are formed by sketching circles on the original 2D sketch then extruding each to 3m in length. One should be in the 'normal' direction and the other in the 'reversed' direction, this means that the inlets are on opposite sides of the mixer (Fig 1).
The next step is to create the mesh. Regions have to be defined this shows where on the body the inlets and outlet are. The default body spacing of the mesh is set to maximum of 0.3m, this is a relatively course mesh. Next the surface and volume meshes are generated, then the mesh file is saved (.gtm) (Fig 2).
A simulation can now be defined in CFX-Pre. This sets up the domain, inlet and outlet conditions and turbulence model (Fig 3). Now a solver file is written and the simulation started. Once the simulation is finished CFX-Post can be initiated. In CFX-Post a streamline starting from a point is created that shows varying temperature (Fig 4). A slice plane is also created that again shows temperature and can be 'picked' to different positions (Fig 5). Contours are added to the slice plane and an animated movie is created.
In this tutorial inflated boundaries are used, this increases the accuracy by generating prismatic elements from the surface. This provides better resolution of the velocity field near the wall, where it changes rapidly. The default body spacing is reduced from 0.3 to 0.2m. An inflated boundary is added using five layers with a maximum thickness of 0.2m. The surface and volume meshes are generated. Next the simulation has to be redefined, the advection scheme is changed to high resolution from upwind, the physical timescale reduced and the number of iterations increased.
The slice plane shows the inflated boundary layers around the edge of the mixer, also there are more lines and they are smoother than the original mesh (Fig 6). This is because the refined mesh is finer and represents the true geometry of the mixer better. The temperature variable slice plane shows a smoother colour variation and finer inlet regions (the red and blue areas are thinner) (Fig 7).
In order to view the inflated elements volumes must be created. The red and orange volumes show elements at different locations and radii (Fig 8). Figure 9 shows the layers of inflated elements on the mixer walls.
In this tutorial the mixer inlet pipes are reduced in diameter from 0.5 to 0.4m. The outlet pipe is extended and curved. This involves adding two new planes and carrying out a revolution and extrusion.
This tutorial also includes creating the geometry of the body. The process of creating the geometry includes making new planes, using the arc tool and sweep function (Fig 11). Next is setting up the mesh, this involves applying regions of inlets and outlet and also inflating. Once the maximum default body spacing has been set to 0.25m and new face spacing constraint needs to be added to the side inlet. Now generate surface and volume mesh and inflation (Fig 12).
In CFX-Pre the properties of water have to be modified, this involves setting up new expressions. The expression can be plotted and intermediate values evaluated. The domain is now setup using thermal energy and k-Epsilon. Region must be setup for the inlets and outlet, in order to do this profile data must be imported. This profile data allows for the main inlet to have non-uniform flow (Fig 13).
In CFX-Post streamlines are added, they show the ranges of velocities. The range can be changed between global, local or user specified.
The plane technique can be used to show other properties such as turbulent kinetic energy dissipation or temperature (Figs 16 & 17).
This tutorial involves creating a solid body surrounded by a fluid body. The solid body uses rectangle, fillet, chamfer and extrude techniques along with modifying the dimensions using vertical, horizontal, angle and length tools. In the next part polyline, equal length, arc by tangent and extrude are used. The extrusion involves removing material instead of adding (Fig 18).
The second part of the geometry is adding the fluid body then removing the solid body (Fig 19). The solid body has to be frozen before adding the fluid body to enable this.
In CFX-Mesh regions are created, these include, inlet, outlet, freewall 1, freewall 2, symmetry plane and body. Next surface mesh, volume mesh and inflation are generated (Fig 20). Here surface proximity is used with number of elements across gap set to three.
In CFX-Pre the domain is configured, a composite region created and boundary conditions setup (Fig 21). Initial values have to be set using the global initialisation tool. In solver control physical timescale is set to two seconds and iterations to 60.
Once CFX-Solver is complete the results can be visualised in CFX-Post. Above is a wireframe of the fluid body with a mirror across the symmetry plane (Fig 22) and a vector plot of the velocity around the exit end of the solid body (Fig 23). Below is a streamline plot of the velocity over the solid body (Fig 24).
The first step of this tutorial is identifying errors within the geometry, the Verify Geometry function must be used to do this. The next step is to insert a Virtual Face, this combines several faces to make a single face (Fig 25). The mesher only needs to mesh the virtual face and not the separate constituent faces.
Once a surface mesh is produced another 'erroneous' area is highlighted, therefore another virtual face must be inserted (Fig 26). Note how the fine strip 'disappears' enabling a more accurate surface mesh to be generated (Fig 27).
On this geometry are also 'short edges', these can be dealt with in the same way as the faces by creating Virtual Edges. Once the five virtual edges are created the new surface mesh created is a lot smoother. The Remove Short Edge function is also used to remove the remaining one short edge. Finally a finer mesh, inflation and volume mesh are setup. Figures 28, 29 & 30 show the original surface mesh, surface mesh once errors are resolved and final refined mesh respectively. Notice how the areas of dense meshing disappear enabling the mesh to become more uniform over the whole geometry.